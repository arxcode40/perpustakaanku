!function(e){e.tableToCsv={name:"tableToCsv",version:"1.0",release:"2021-03-22",author:"Paulo Kramer",site:"https://www.paulokramer.com",documentation:"https://github.com/PauloAK/jQuery-tableToCsv"},e.fn.tableToCsv=function(t){var n=e.extend({filename:null,separator:",",colspanMode:"empty",autoDownload:!0,fn_onInit:null,fn_onComplete:null,fn_onError:null},t);let o=["empty","replicate"];try{if(!this.is("table"))throw"Selected element isn't a table";if(n.autoDownload&&!n.filename.length)throw"You need to specify a filename";if(-1===o.indexOf(n.colspanMode))throw`You need to specify a valid colspan mode, available: ${o.join(", ")}`;"function"==typeof n.fn_onInit&&n.fn_onInit();let t=function(e){const t=e.find("tr");return[].slice.call(t).map(function(e){const t=e.querySelectorAll("th,td");return[].slice.call(t).map(function(e){return r(e.textContent)+function(e){if(!e.hasAttribute("colspan"))return"";return colspanContent="replicate"===n.colspanMode?r(e.textContent):r(""),`${n.separator}${colspanContent}`.repeat(parseInt(e.getAttribute("colspan"))-1)}(e)}).join(n.separator)}).join("\n")}(this,n.separator);return"function"==typeof n.fn_onComplete&&n.fn_onComplete(),n.autoDownload?function(e){let t=document.createElement("a");t.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(e)}`),t.setAttribute("download",n.filename),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}(t):t}catch(t){return console.error(`[${e.tableToCsv.name}::Error] ${t}`),void("function"==typeof n.fn_onError&&n.fn_onError())}function r(e){return`"${e=e.replace(/(\r\n|\n|\r)/gm,"").replace(/(\s\s)/gm," ").replace(/"/g,'""')}"`}}}(jQuery);